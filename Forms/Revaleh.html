<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>فرم ورود اطلاعات اولیه</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css"
      rel="stylesheet"
      type="text/css"
    />
    <link rel="stylesheet" href="StyleSheet.css" />
  </head>
  <body>
    <div class="form-container">
      <h2>فرم ورود اطلاعات اولیه</h2>
      <form id="responsiveForm">
        <div class="row">
          <div class="col-6">
            <div class="form-group">
              <label for="Name">نام</label>
              <input type="text" class="form-control" id="Name" />
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label for="Name">نام خانوادگی</label>
              <input type="text" class="form-control" id="Family" />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <div class="form-group">
              <label for="Sex">جنسیت</label>
              <select id="Sex">
                <option value="مرد">مرد</option>
                <option value="زن">زن</option>
              </select>
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label for="Name">وضعیت تاهل</label>
              <select class="form-control" id="MaridStatus">
                <option value="مجرد">مجرد</option>
                <option value="متاهل">متاهل</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <div class="form-group">
              <label for="grade">میزان تحصیلات</label>
              <select class="form-control" id="grade">
                <option value="دیپلم">دیپلم</option>
                <option value="لیسانس">لیسانس</option>
                <option value="فوق لیسانس">فوق لیسانس</option>
                <option value="دکتری">دکتری</option>
              </select>
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label for="working">اشتغال</label>
              <input class="form-control" name="working" />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <div class="form-group">
              <label for="IllnesHistorical">سابقه بیماری</label>
              <select class="form-control" id="IllnesHistorical">
                <option value="دیابت">دیابت</option>
                <option value="فشارخون">فشارخون</option>
                <option value="سابقه بیماریهای جسمانی">
                  سابقه بیماریهای جسمانی
                </option>
              </select>
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label for="EstresType">نوع استرس های زندگی</label>
              <select class="form-control" id="EstresType">
                <option value="فقدان یک شخص مهم">فقدان یک شخص مهم</option>
                <option value="بیماری جسمانی و مزمن">
                  بیماری جسمانی و مزمن
                </option>
                <option value="مشکلات اقتصادی">مشکلات اقتصادی</option>
                <option value="مشکلات اقتصادی">اختلاف با همسر</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <div class="form-group">
              <label for="dragStatus">سابقه مصرف دارو</label>
              <select class="form-control" id="dragStatus">
                <option value="دارد">دارد</option>
                <option value="ندارد">ندارد</option>
              </select>
            </div>
          </div>
          <div class="col-6">
            <div class="form-group">
              <label for="sleepType">وضعیت خواب</label>
              <select class="form-control" id="sleepType">
                <option value="بد خوابی">بد خوابی</option>
                <option value="بی خوابی">بی خوابی</option>
                <option value="بدون مشکل">بدون مشکل</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="form-group">
            <label for="disorderDoctor">اختلالات همراه روانپزشکی</label>
            <select class="form-control" id="disorderDoctor">
              <option value="افسردگی">افسردگی</option>
              <option value="اضطراب">اظطراب</option>
              <option value="اعتیاد">اعتیاد</option>
            </select>
          </div>
        </div>
        <button type="submit" class="btn btn-primary">ارسال سوالات</button>
      </form>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
    <!-- Custom JS -->
    <script>
      document
        .getElementById("responsiveForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          const name = document.getElementById("Name").value;
          const family = document.getElementById("Family").value;
          const sex = document.getElementById("Sex").value;
          const maritalStatus = document.getElementById("MaridStatus").value;
          const education = document.getElementById("grade").value;
          const working = document.querySelector('[name="working"]').value; // Since it doesn't have an ID
          const illness = document.getElementById("IllnesHistorical").value;
          const stress = document.getElementById("EstresType").value;
          const drugStatus = document.getElementById("dragStatus").value;
          const sleepStatus = document.getElementById("sleepType").value;
          const disorderDoctor =
            document.getElementById("disorderDoctor").value;

          // Template string with placeholders
          let templateString = `در خصوص یک بیماری که دارای شکایت مشکل حافظه دارد با جنسیت {sex} و وضعیت تاهل {maritalStatus} دارای مدرک {education} و دارای اشتغال {working} و همچنین دارای بیماری {illness} و دارای استرس های از نوع {stress} و سابقه مصرف دارو {drug} و وضعیت خواب هم به شکل {sleep} می باشد و دارای اختلالات همراه روانپزشکی {disorder} می باشد چه توصیه داری`;

          // Replace placeholders with actual values
          templateString = templateString
            .replace("{sex}", sex)
            .replace("{maritalStatus}", maritalStatus)
            .replace("{education}", education)
            .replace("{working}", working)
            .replace("{illness}", illness)
            .replace("{stress}", stress)
            .replace("{drug}", drugStatus)
            .replace("{sleep}", sleepStatus)
            .replace("{disorder}", disorderDoctor);

          localStorage.setItem("userInitialPrompt", templateString); // Save the name to localStorage

          window.location.href = `../index.html`;
        });
    </script>
  </body>
</html>
